extends ../../../layout

block title
	| 設定

block body
	main(role='main')
		nav.nav
			ul
				li(data-ref='profile')
					i.fa.fa-user
					| Profile
				li(data-ref='home-layout')
					i.fa.fa-desktop
					| Home design
				li(data-ref='application')
					i.fa.fa-puzzle-piece
					| Applications
				li(data-ref='credit')
					i.fa.fa-credit-card
					| Credit
				li(data-ref='email')
					i.fa.fa-envelope-o
					| E-Mail
				li(data-ref='logout')
					i.fa.fa-power-off
					| Sign out
		div.contents
			div.profile(data-name='profile')
				.form.public-profile
					h1 Public profile
					label.avatar
						h2.title Avatar
						form.crop-form
							p アイコンに使用する部分を選択してください
							div.container
								div.preview
								div.buttons
									button.cancel(type='button', role='button')
										i.fa.fa-ban
										| キャンセル
									button.ok(type='submit', role='button')
										i.fa.fa-check
										| OK
						img.avatar(src=me.avatarUrl, alt='avatar')
						button.select-from-local.ui-waves-effect(type='button')
							i.fa.fa-upload
							| Select form your PC
						button.select-from-album.ui-waves-effect(type='button')
							i.fa.fa-folder-open
							| Select from album
					label
						h2.title Name
						div.content
							input(name='name', type='text', value=me.name, placeholder=me.name)
					label
						h2.title Comment
						div.content
							input(name='comment', type='text', value=me.comment, placeholder=me.comment)
					label
						h2.title Website
						div.content
							input(name='url', type='url', value=me.url, placeholder=me.url)
					label
						h2.title Location
						div.content
							input(name='location', type='text', value=me.location, placeholder=me.location)
					button.submit-button(type='submit')
						| Update
			
			div.home-layout(data-name='home-layout')
				img(src='/resources/images/home-design.svg', alt='customize')
				p
					a(href='/i/home/customize')
						| ホームをカスタマイズする
						i.fa.fa-chevron-right

			div.application(data-name='application')
				if apps != null && apps.length > 0
					ol.apps
						each app in apps
							li.app(data-app-id= app.id)
								div.icon-area
									a.icon-anchor
										img.icon(src= app.iconUrl, alt='icon')
								div.main
									a.name-anchor
										p.name= app.name
									p.description= app.description
									button.remove(role='button')
										i.fa.fa-trash
										| アンインストール
				else
					p#no-apps
						| インストールされているアプリはありません。
			
			div.credit(data-name='credit')
				div.main
					p.title
						| あなたの保有
						b ひまゴールド
						| :
					p.credit
						i.fa.fa-leaf
						= me.credit.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g, '$1,')

			div.email(data-name='email')
				p coming soon....

			div.logout(data-name='logout')
				a(href='/logout') ログアウト
